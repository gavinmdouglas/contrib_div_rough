---
title: "Example of applying contrib div metrics to dataset, running RF, and post-processing results"
author: "Gavin Douglas"
date: '`r format(Sys.Date(), "%B %d, %Y")`'
output:
  html_document:
    code_folding: hide
    theme: cerulean
    toc: true
    toc_float: true
---


```{r setup}
# Note that I just used "suppressPackageStartupMessages" here so that nothing would be printed to the notebook
# when they are loaded.
suppressPackageStartupMessages(library(ComplexHeatmap))
suppressPackageStartupMessages(library(ggplot2))
suppressPackageStartupMessages(library(reshape2))
suppressPackageStartupMessages(library(kableExtra))
suppressPackageStartupMessages(library(knitr))
suppressPackageStartupMessages(library(DT))
suppressPackageStartupMessages(library(ggbeeswarm))
suppressPackageStartupMessages(library(curatedMetagenomicData))
```

# 0 - Introduction

This notebook is intended to show example code for how to run the following steps on a single dataset:

1. Download and prepare a case-control dataset

2. Compute contributional diversity metrics on all functions (focused on MetaCyc pathways)

3. Run Random Forest to classify case and control samples based on these metrics (one model per metric). Note that the relative abundance CLR-transformed relative abundance will be included as separate inputs to models as well.

4. Post-process the model outputs and compare the area under the curve.


# 1 - Acquire data

We'll be using the curatedMetagenomicData R package to acquire datasets for this project. You can read about it here: https://bioconductor.org/packages/release/data/experiment/html/curatedMetagenomicData.html

The below code can be used to down
```{r acquire_data}

```

# 2 - Compute metrics

# 3 - Build Random Forest models

# 4 - Post-process model outputs


# Session info {.tabset}

This info is included for reproducibility (i.e., if someone wanted to run this code again exactly the same).

## Hide

## Show

```{r show_info}
sessionInfo()
```